<div class="calculate-orders-layout">
    <aside>
        <div class="loading" *ngIf="loading">
            <mat-progress-spinner color="primary" mode="indeterminate" [strokeWidth]="8"></mat-progress-spinner>
        </div>
        <div class="form-container">
            <div class="form-text">Расчёт заказов</div>
            <mat-divider></mat-divider>
            <mat-list class="orders-list" role="list">
                <mat-list-item role="listitem" (click)="selectOrder(order.id)" *ngFor="let order of orders" [ngClass]="order.id===selectedOrderId?'already-selected':''">{{order.name}}</mat-list-item>
            </mat-list>
            <mat-divider></mat-divider>
            <button mat-raised-button class="count-button" color="primary" [disabled]="!selectedOrderId||!orders || !orders.length" (click)="calculateOrder()">Рассчитать заказ</button>

        </div>

    </aside>

    <main>
        <sch-view-order-quantums *ngIf="calculatedOrder" [order]="calculatedOrder" (selectedBlock)="selectedBlock= $event"></sch-view-order-quantums>

        <sch-view-production-item-quantums-groups *ngIf="selectedBlock" [order]="calculatedOrder" (selectedGroup)="selectedGroup=$event"
            [selectedBlock]="selectedBlock">
        </sch-view-production-item-quantums-groups>

        <sch-view-production-item-quantum-group *ngIf="selectedGroup" [order]="calculatedOrder" [selectedGroup]="selectedGroup"></sch-view-production-item-quantum-group>
    </main>
</div>
